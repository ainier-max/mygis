<html lang="en">
<head>
  <meta charset=utf-8/>
  <meta name="referrer" content="no-referrer"/>
  <!--vue依赖-->
  <script src="../../../map/vue-lib/vuejs/vue.js"></script>
  <!--地图依赖js-->
  <script src="../../../map/vue-lib/jslib.3d.js"></script>
  <!--地图依赖js-->
  <script src="../../../map/vue-lib/mapConfig.3d.js"></script>
  <!--着色器-->
  <script src="../../../map/vue-lib/mapjs/cesium/material/waterRippleFlowMaterial.js"></script>

  <script src="../../../map/vue-lib/mapjs/cesium/initMap.js"></script>
  <script>
    var viewer = null;

    function loadEnd() {
      //初始化地图
      initMap();
      //定位
      var obj = {lng:118.0850887298584, lat: 24.439001083374023,eyeHeight:1000,pitch:-65,heading:0.0,time:1};
      viewerFlyToLonLat(obj);
      //关闭地形检测（必须得设置该属性），否则扩散圈会移动
      //viewer.scene.globe.depthTestAgainstTerrain = true;
    }


    function addbowen() {
      let  lon = 118.0850887298584,
        lat = 24.439001083374023,
        height = 10,
        semiMinorAxis = 250,
        semiMajorAxis = 250;


      let entity =  viewer.entities.add({
        name: "test",
        position: Cesium.Cartesian3.fromDegrees(lon, lat, height),
        ellipse: {
          height: height,
          semiMinorAxis: semiMinorAxis,
          semiMajorAxis: semiMajorAxis,
          material: new WaterRippleMaterialProperty(new Cesium.Color(1.0, 0.0, 0.0, 1.0),2,3,11),
        },
      });
    }
  </script>
</head>

<body onload="loadEnd()">
<div id="my-app">
  <el-button type="primary" onclick='addbowen();' style='z-index:1000;position:absolute;top:50px;left:60px'>波纹点
  </el-button>

  <div id="map" style='z-index:100;position: absolute;top: 0; bottom: 0;right: 0;left: 0;'></div>

</div>
<script>
  var mapVue = new Vue({
    el: '#my-app',
    data: {

    },
    components: {
    },
    mounted() {

    }
  });
</script>
</body>
</html>
